jQuery(function(e) {
    var t = e("#lottie-morph");
    const n = lottie.loadAnimation({
        container: t.get(0),
        renderer: "svg",
        loop: !1,
        autoplay: !1,
        path: e(t).data("file"),
        rendererSettings: {
            preserveAspectRatio: "xMidYMid slice"
        }
    })
      , a = new SimpleBar(e(".menu-container")[0]); 
    t = new SimpleBar(e(".menu-container-mobile")[0]),
    a.getScrollElement().addEventListener("scroll", function(t) {
        var {scrollHeight: t, scrollTop: n, clientHeight: a} = t.target;
        (t = t - Math.round(n) === a) && !o ? (o = !0,
        e(".menu-container").addClass("end-scroll")) : !0 === o && (o = !1,
        e(".menu-container").removeClass("end-scroll"))
    }, {
        passive: !0
    }),
    t.getScrollElement().addEventListener("scroll", function(t) {
        var {scrollHeight: t, scrollTop: n, clientHeight: a} = t.target;
        (t = t - Math.round(n) === a) && !l ? (l = !0,
        e(".menu-container-mobile").addClass("end-scroll")) : !0 === l && (l = !1,
        e(".menu-container-mobile").removeClass("end-scroll"))
    }, {
        passive: !0
    });
    let o = !1
      , l = !1;
    e("#lottie-morph").on("click", function() {
        e(".lbd-menu").hasClass("open") || (n.setDirection(1),
        n.play(),
        e(".lbd-menu").addClass("open"),
        setTimeout( () => {
            e(".lbd-menu").addClass("show-menu"),
            a.recalculate()
        }
        , 800))
    }),
    e(".mobile-menu").on("click", function() {
        e(".menu-container-mobile").addClass("show"),
        e("html, body").css("overflow", "hidden")
    }),
    e(".close-menu-mobile").on("click", function() {
        e(".menu-container-mobile").removeClass("show"),
        e("html, body").css("overflow", "unset")
    }),
    e(".back").on("click", function() {
        e(".lbd-menu").hasClass("open") && (n.setDirection(-1),
        n.play(),
        e(".lbd-menu").removeClass("show-menu"),
        setTimeout( () => {
            e(".lbd-menu").removeClass("open")
        }
        , 1200))
    });
    const r = e(".lbd-nav");
    let s = 0
      , i = .2 * window.innerHeight;
    e(window).on("resize", () => {
        i = .2 * window.innerHeight
    }
    );
    const c = e("#lbdCursor");
    e(window).on("mousemove", function(e) {
        e = e,
        c.css("top", e.clientY + "px"),
        c.css("left", e.clientX + "px")
    });
    t = e("#lottie-footer");
    var d = e("#lottie-footer-tablet");
    const m = lottie.loadAnimation({
        container: t.get(0),
        renderer: "svg",
        loop: !1,
        autoplay: !1,
        path: e(t).data("file")
    })
      , g = lottie.loadAnimation({
        container: d.get(0),
        renderer: "svg",
        loop: !1,
        autoplay: !1,
        path: e(d).data("file"),
        rendererSettings: {}
    });
    0 < (t = e("#lottie404")).length && lottie.loadAnimation({
        container: t.get(0),
        renderer: "svg",
        loop: !0,
        autoplay: !0,
        path: e(t).data("file"),
        rendererSettings: {
            preserveAspectRatio: "xMidYMid slice"
        }
    }),
    e(window).on("scroll", () => {
        var e = window.pageYOffset || document.documentElement.scrollTop;
        e > s && e > i ? gsap.to(r, {
            opacity: 0,
            y: -100
        }) : gsap.to(r, {
            opacity: 1,
            y: 0
        }),
        s = e <= 0 ? 0 : e
    }
    ),
    setTimeout( () => {
        gsap.to(".site-footer", {
            scrollTrigger: {
                trigger: ".site-main",
                start: "bottom bottom-=20%",
                onEnter: () => {
                    e(".gl-content-wrapper").children().last().css("transition", "all 0.3s linear"),
                    e(".gl-content-wrapper").children().last().css("border-bottom-left-radius", "40px"),
                    e(".gl-content-wrapper").children().last().css("border-bottom-right-radius", "40px"),
                    m.play(),
                    g.play()
                }
                ,
                onLeaveBack: () => {
                    e(".gl-content-wrapper").children().last().css("border-radius", "0")
                }
            }
        })
    }
    , 500);
    const p = e('link[rel~="icon"]').get(0)
      , u = e(p).attr("href")
      , b = e("#favicon-images").data("images");
    let h = 1;
    setInterval( () => {
        h < b.length ? (e(p).attr("href", b[h]),
        h++) : (h = 1,
        e(p).attr("href", u))
    }
    , 800);
    const f = setTimeout( () => {
        e(".announcement").addClass("open"),
        e(".announcement-card").addClass("show")
    }
    , 3e3);
    function v(t, n, a, o, l) {
        e(t).length && (t = e(n).find(a).toArray(),
        gsap.to(t, {
            opacity: 1,
            y: 0,
            stagger: o,
            delay: l
        }))
    }
    function w(t, n, a, o, l, r) {
        e(t).length && (t = e(n).find(a).toArray(),
        gsap.to(t, {
            opacity: 1,
            y: 0,
            stagger: l,
            delay: r,
            scrollTrigger: {
                trigger: n,
                start: o,
                end: o
            }
        }))
    }
    sessionStorage.getItem("announcement") ? (e(".announcement").addClass("remove"),
    e(".announcement-card").addClass("remove")) : e(".announcement").addClass("show"),
    e(".announcement").on("click", function() {
        clearTimeout(f),
        e(this).toggleClass("open"),
        e(".announcement-card").toggleClass("show"),
        e(".announcement-card .image-container").hasClass("checked") && (sessionStorage.setItem("announcement", "true"),
        setTimeout( () => {
            e(this).addClass("slide-down")
        }
        , 500),
        setTimeout( () => {
            e(this).addClass("remove"),
            e(".announcement-card").addClass("remove")
        }
        , 1e3))
    }),
    v(".article-header", ".text-content", ".gl-animated", .3, 0),
    v(".article-header", ".article-header > .relative", ".gl-animated-img", 0, .6),
    v(".gl-b-creative-frontier", ".gl-b-creative-frontier .text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-creative-frontier", ".gl-b-creative-frontier .resources-tabs", ".gl-animated", .3, .6),
    v(".gl-b-events", ".gl-b-events .text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-events", ".gl-b-events", ".tabs-container", 0, .6),
    v(".gl-b-friends-of-lbd-content", ".gl-b-friends-of-lbd-content .text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-friends-of-lbd-content", ".gl-b-friends-of-lbd-content .partners", ".gl-animated", 0, .6),
    v(".gl-b-news", ".gl-b-news .text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-news", ".gl-b-news .resources-tabs", ".gl-animated", .3, .6),
    v(".gl-b-design-library", ".text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-design-library", ".gl-b-design-library .resources-tabs", ".gl-animated", .3, .6),
    v(".gl-b-programme-hero-section", ".text-wrapper", ".gl-animated", .3, 0),
    v(".gl-b-programme-partners", ".text-wrapper", ".gl-animated", .3, 0),
    v(".shapes", ".shapes-container", "img", 0, 0),
    setTimeout( () => {
        w(".gl-b-cta-section", ".gl-b-cta-section", ".gl-animated", "top 80%", .3, 0)
    }
    , 1e3),
    gsap.matchMedia().add("(min-width: 768px) and (max-width: 1023px)", () => {
        w(".gl-b-cards", ".gl-b-cards .cards-mobile", ".gl-animated", "top-=25% center", .3, 0)
    }
    ),
    gsap.matchMedia().add("(max-width: 767px)", () => {
        e(".gl-b-cards .cards-mobile .gl-animated").css("opacity", 1)
    }
    ),
    w(".gl-b-carousel", ".gl-b-carousel .heading", ".gl-animated", "top-=50% center", .3, 0),
    w(".gl-b-design-tools", ".gl-b-design-tools .header-info", ".gl-animated", "top-=50% center", .3, 0),
    w(".gl-b-design-tools", ".gl-b-design-tools .design-tools", ".gl-animated", "top center", .3, 0),
    w(".gl-b-open-call", ".gl-b-open-call > .content", ".gl-animated", "top 70%", .3, 0),
    w(".gl-b-post-related", ".gl-b-post-related > .content", "h2", "top-=50% center", .3, 0),
    w(".gl-b-post-related", ".gl-b-post-related > .content", ".gl-animated", "top-=25% center", .3, 0),
    w(".gl-b-programme-challenges", ".gl-b-programme-challenges .header-info", ".gl-animated", "top 80%", .3, 0),
    w(".gl-b-programme-challenges", ".tabs", ".gl-animated", "top 80%", 0),
    w(".gl-b-programme-related", ".gl-b-programme-related .header-info", ".gl-animated", "top 80%", .3, 0),
    w(".gl-b-programme-related", ".post-list", ".gl-animated", "top 70%", .3, 0),
    w(".gl-b-programme-two-column-video-cta", ".gl-b-programme-two-column-video-cta .two-column", ".gl-animated", "top 80%", .3, 0),
    w(".gl-b-programme-two-column-video-cta", ".gl-b-programme-two-column-video-cta .heading", ".gl-animated", "top 90%", .3, 0),
    w(".gl-b-two-column-image-cta", ".gl-b-two-column-image-cta .heading", ".gl-animated", "top-=200px center", 1, .5),
    w(".gl-b-rotating-carousel", ".gl-b-rotating-carousel .content", ".gl-animated", "top center", .3, 1),
    e(".menu-container-mobile .menu-item:not(.menu-item-has-children)").on("click", function() {
        e(this).hasClass("current-menu-item") || (e(".menu-container-mobile").find(".current-menu-item").removeClass("current-menu-item"),
        e(this).addClass("current-menu-item"))
    }),
    e(".menu-container .menu-item:not(.menu-item-has-children)").on("click", function() {
        e(this).hasClass("current-menu-item") || (e(".menu-container").find(".current-menu-item").removeClass("current-menu-item"),
        e(this).addClass("current-menu-item"))
    }),
    e(".announcement-card .image-container").on("click", function() {
        e(this).toggleClass("checked")
    });
    const y = setInterval( () => {
        var t = e(".cky-preference-body-wrapper")
          , n = e(".cky-btn-close");
        if (0 < t.length) {
            clearInterval(y),
            new SimpleBar(e(t).get(0),{
                autoHide: !1
            }).getScrollElement().addEventListener("scroll", function(t) {
                var {scrollHeight: t, scrollTop: n, clientHeight: o} = t.target;
                (t = t - Math.round(n) === o) && !a ? (a = !0,
                e(".cky-footer-shadow").fadeOut()) : !0 === a && (a = !1,
                e(".cky-footer-shadow").fadeIn())
            }, {
                passive: !0
            });
            let a = !1;
            e(n).find("img").attr("src", ajaxVar.close_icon),
            e(".cky-consent-container").hasClass("cky-hide") || e(".announcement, .announcement-card").addClass("cookie-present"),
            e(".cky-btn-accept, .cky-btn-preferences").on("click", function() {
                e(".announcement, .announcement-card").removeClass("cookie-present")
            })
        }
    }
    , 200)
      , C = setInterval( () => {
        var t = e(".cky-audit-table");
        0 < t.length && (clearInterval(C),
        t.each( (t, n) => {
            var a = e(n).clone();
            e(n).parent().prev().find(".cky-accordion-header-des").append(a),
            e(n).remove()
        }
        ))
    }
    , 200)
      , k = setInterval( () => {
        var t = e(".cky-switch");
        0 < t.length && (clearInterval(k),
        t.each( (t, n) => {
            e(n).find('input[type="checkbox"]').on("click", function() {
                e(this).get(0).checked ? e(this).parent().find(".status").html("Enabled") : e(this).parent().find(".status").html("Disabled")
            }),
            e(n).prepend('<p class="status">Disabled</p>')
        }
        ))
    }
    , 200);
    if (e(".cookie").on("click", function(t) {
        t.preventDefault(),
        e(".cky-modal").addClass("cky-modal-open"),
        e(".cky-overlay").removeClass("cky-hide")
    }),
    d = e(".scroll-top"),
    0 < (t = e(".entry-content.gl-content-wrapper")).length) {
        let n;
        var x = e(t).children();
        0 < x.length && (x = e(x)[x.length - 1],
        n = e(x).hasClass("gl-b-cta-section") ? e(x).prev() : e(t)),
        0 < d.length && (e(d).on("click", function() {
            e("html,body").animate({
                scrollTop: 0
            }, 1500)
        }),
        ScrollTrigger.create({
            trigger: n,
            start: "bottom center+=15%",
            end: "bottom center",
            onEnter: () => {
                e(".scroll-top").addClass("show")
            }
            ,
            onLeaveBack: () => {
                e(".scroll-top").removeClass("show")
            }
        }))
    }
});
